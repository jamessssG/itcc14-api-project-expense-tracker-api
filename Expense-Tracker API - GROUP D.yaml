iopenapi: 3.0.3
info:
  title: Expense Tracker API
  version: 1.0.0
  description: >
    A RESTful API for managing expenses, as well as incomes. This system allows users to record, view, and summarize financial transactions to support better budgeting and spending habits.
  contact:
    name: GROUP D
    email: team@groupdexpensetracker.local
  license:
    name: Xavier University - Ateneo De Cagayan
    url: https://www.xu.edu.ph/

servers:
  - url: http://localhost:5000/api
    description: Local development server

tags:
  - name: Transactions
    description: Endpoints related to creating, retrieving, and deleting transactions
  - name: Summary
    description: Endpoints that calculate income, expenses, and remaining balance

paths:
  /transactions:
    get:
      summary: Retrieve all recorded transactions
      tags: [Transactions]
      parameters:
        - name: category
          in: query
          required: false
          description: Filter transactions by category
          schema:
            type: string
            example: Food
        - name: type
          in: query
          required: false
          description: Filter by transaction type (income or expense)
          schema:
            type: string
            enum: [income, expense]
      responses:
        '200':
          description: Successfully retrieved all transactions
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
              example:
                - id: 1
                  description: "Lunch at cafeteria"
                  amount: 120
                  category: "Food"
                  type: "expense"
                  date: "2025-11-13"
                - id: 2
                  description: "Allowance"
                  amount: 500
                  category: "Income"
                  type: "income"
                  date: "2025-11-12"
        '500':
          description: Server error while retrieving transactions

    post:
      summary: Add a new transaction (income or expense)
      tags: [Transactions]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewTransaction'
      responses:
        '201':
          description: Transaction successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
              example:
                id: 3
                description: "Bus fare"
                amount: 30
                category: "Transportation"
                type: "expense"
                date: "2025-11-13"
        '400':
          description: Invalid request data
        '500':
          description: Server error during creation

  /transactions/{id}:
    delete:
      summary: Delete a specific transaction by its ID
      tags: [Transactions]
      parameters:
        - name: id
          in: path
          required: true
          description: Unique ID of the transaction
          schema:
            type: integer
            example: 3
      responses:
        '200':
          description: Transaction deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Transaction deleted successfully"
        '404':
          description: Transaction not found
        '500':
          description: Server error while deleting transaction

  /summary:
    get:
      summary: Generate financial summary including totals and balance
      tags: [Summary]
      responses:
        '200':
          description: Successfully generated summary
          content:
            application/json:
              schema:
                type: object
                properties:
                  total_income:
                    type: number
                    example: 2500
                  total_expense:
                    type: number
                    example: 1450
                  balance:
                    type: number
                    example: 1050
              example:
                total_income: 2500
                total_expense: 1450
                balance: 1050
        '500':
          description: Server error while generating summary

components:
  schemas:
    Transaction:
      type: object
      properties:
        id:
          type: integer
          example: 1
        description:
          type: string
          example: "Dinner with friends"
        amount:
          type: number
          example: 250
        category:
          type: string
          example: "Food"
        type:
          type: string
          enum: [income, expense]
          example: "expense"
        date:
          type: string
          format: date
          example: "2025-11-13"

    NewTransaction:
      type: object
      required: [description, amount, category, type, date]
      properties:
        description:
          type: string
          example: "Allowance"
        amount:
          type: number
          example: 1000
        category:
          type: string
          example: "Income"
        type:
          type: string
          enum: [income, expense]
          example: "income"
        date:
          type: string
          format: date
          example: "2025-11-13"

externalDocs:
  description: Learn more about the OpenAPI Specification
  url: https://swagger.io/specification/